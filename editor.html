<!DOCTYPE html>
<html>
<head>
    <title>YAEPL Editor</title>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="https://gitcdn.xyz/repo/codemirror/CodeMirror/master/lib/codemirror.css"/>
    <link rel="stylesheet" href="content/styles/editor.css" />
</head>
<body>
    <h1>Code Editor</h1>
    <main>
        <textarea id="editor"></textarea>
        <div id="terminal"></div>
    </main>

    <button id="run">Run Code</button>
    <button id="step">Step Through Code</button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.27.4/codemirror.min.js"></script>
    <script src="mode.js"></script>
    <script src="interpreter/interpreter.js"></script>
    <script>
        editorArea = document.getElementById("editor");
        var editor = CodeMirror.fromTextArea(editorArea, {
            lineNumbers: true,
            autofocus: true,
            mode: 'yaepl',
        });
    
        document.getElementById("run").onclick = function() {
            var lines = editor.getValue().split('\n');
            
            var yaepl = new Yaepl({});
            for (var l = 0; l < lines.length; l++) {
                yaepl.interpretLine(lines[l]);
            }
        };
    </script>
</body>
</html>
